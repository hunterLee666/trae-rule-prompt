---
name: Validation Rules
description: 验证规则 - 输入输出验证标准
version: "7.0"
priority: 90
alwaysApply: true
---

# 验证规则

> **"验证先行，质量保障。"**

## 一、验证类型

```yaml
输入验证:
  类型验证:
    - 参数类型检查
    - 数据格式检查
    - 值范围检查
    
  逻辑验证:
    - 业务规则检查
    - 约束条件检查
    - 依赖关系检查
    
  安全验证:
    - 权限检查
    - 敏感数据检测
    - 注入攻击防护

输出验证:
  格式验证:
    - 输出格式检查
    - 结构完整性检查
    
  内容验证:
    - 内容正确性检查
    - 内容完整性检查
    
  质量验证:
    - 代码质量检查
    - 文档质量检查
```

## 二、验证规则

```yaml
文件操作验证:
  路径验证:
    - 路径格式正确
    - 路径在允许范围内
    - 路径不存在危险字符
    
  权限验证:
    - 读取权限检查
    - 写入权限检查
    - 执行权限检查

命令执行验证:
  命令验证:
    - 命令在白名单内
    - 参数格式正确
    - 无危险操作
    
  资源验证:
    - 资源充足
    - 无资源冲突
    - 符合限制条件

代码生成验证:
  语法验证:
    - 语法正确
    - 无编译错误
    
  逻辑验证:
    - 逻辑正确
    - 无运行时错误
    
  风格验证:
    - 符合编码规范
    - 无代码异味
```

## 三、验证流程

```yaml
标准流程:
  1. 接收输入
     - 解析输入内容
     - 提取验证项
     
  2. 执行验证
     - 按规则逐一验证
     - 收集验证结果
     
  3. 处理结果
     - 通过: 继续执行
     - 失败: 返回错误信息
     
  4. 记录日志
     - 记录验证过程
     - 保存验证结果
```

## 四、错误处理

```yaml
错误类型:
  格式错误:
    - 数据格式不正确
    - 类型不匹配
    
  逻辑错误:
    - 业务规则违反
    - 约束条件不满足
    
  安全错误:
    - 权限不足
    - 安全风险

错误响应:
  格式:
    - 错误代码
    - 错误描述
    - 修复建议
    
  处理:
    - 返回错误信息
    - 提供修复建议
    - 记录错误日志
```

## 五、验证报告

```markdown
## ✅ 验证报告

### 验证结果
| 验证项 | 状态 | 详情 |
|-------|------|------|
| 类型验证 | ✅/❌ | ... |
| 逻辑验证 | ✅/❌ | ... |
| 安全验证 | ✅/❌ | ... |

### 总体结果: ✅通过 / ❌未通过

### 错误详情
[如有错误，列出详情]

### 修复建议
[如有错误，提供修复建议]
```
