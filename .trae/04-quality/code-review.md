---
name: Code Review
description: 代码审查 - 静态分析与最佳实践检查
version: "7.0"
priority: 90
alwaysApply: true
---

# 代码审查

> **"审查是质量的守护者。"**

## 一、审查维度

```yaml
正确性:
  - 逻辑正确
  - 边界处理
  - 异常处理
  - 并发安全

可读性:
  - 命名规范
  - 代码结构
  - 注释充分
  - 格式统一

可维护性:
  - 模块化
  - 低耦合
  - 高内聚
  - 易扩展

性能:
  - 算法效率
  - 资源使用
  - 内存管理
  - I/O优化

安全性:
  - 输入验证
  - 权限控制
  - 敏感数据处理
  - 漏洞防护
```

## 二、审查流程

```yaml
标准流程:
  1. 准备阶段:
     - 理解变更内容
     - 了解变更背景
     - 收集相关上下文
     
  2. 审查阶段:
     - 逐文件审查
     - 按维度检查
     - 记录问题
     
  3. 反馈阶段:
     - 分类问题
     - 提供修复建议
     - 确认修复方案
     
  4. 验证阶段:
     - 验证修复结果
     - 确认问题解决
     - 完成审查
```

## 三、问题分类

```yaml
严重程度:
  Critical (必须修复):
    - 安全漏洞
    - 数据丢失风险
    - 系统崩溃风险
    
  Major (强烈建议修复):
    - 逻辑错误
    - 性能问题
    - 严重代码异味
    
  Minor (建议修复):
    - 代码风格
    - 命名问题
    - 注释缺失
    
  Suggestion (可选改进):
    - 优化建议
    - 最佳实践建议
    - 文档改进
```

## 四、审查清单

```yaml
通用检查:
  - [ ] 代码能否正常工作
  - [ ] 是否有明显的bug
  - [ ] 是否有安全风险
  - [ ] 是否有性能问题
  - [ ] 是否符合编码规范
  - [ ] 是否有足够的测试
  - [ ] 是否有必要的文档

特定检查:
  新功能:
    - [ ] 功能是否完整
    - [ ] 是否有边界处理
    - [ ] 是否有错误处理
    
  重构:
    - [ ] 行为是否保持一致
    - [ ] 是否有回归风险
    - [ ] 是否有测试覆盖
    
  修复:
    - [ ] 是否真正修复问题
    - [ ] 是否有副作用
    - [ ] 是否有测试验证
```

## 五、审查报告

```markdown
## 📝 代码审查报告

### 审查摘要
- 审查文件: X个
- 发现问题: X个
- 严重程度: Critical(X) Major(X) Minor(X) Suggestion(X)

### 问题详情

#### Critical
1. **[文件:行号]** 问题描述
   - 原因: ...
   - 建议: ...

#### Major
1. **[文件:行号]** 问题描述
   - 原因: ...
   - 建议: ...

### 总体评价
[整体评价和改进建议]
```
