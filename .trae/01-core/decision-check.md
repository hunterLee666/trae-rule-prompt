---
name: Decision Check
description: 决策检查触发器 - 多方案选择时强制执行
version: "1.0"
priority: 95
alwaysApply: true
trigger: "during_decision_making"
---

# 决策检查触发器

> **⚠️ 强制规则：多方案选择时必须执行决策评估**

---

## 一、触发条件

```yaml
触发场景:
  - 技术选型（多个框架/库选择）
  - 架构决策（多种方案对比）
  - 实现路径选择
  - 资源分配决策
  - 用户询问"哪种更好"
  - 涉及权衡取舍的决策

不触发场景:
  - 单一明确方案
  - 用户已指定具体方案
  - 简单的是非判断
```

---

## 二、决策框架

### 2.1 评估维度

```yaml
维度权重:
  复杂度: 25%
    - 实现难度
    - 维护成本
    - 学习曲线
  
  风险: 20%
    - 技术风险
    - 业务风险
    - 时间风险
  
  资源: 15%
    - 人力需求
    - 计算资源
    - 第三方依赖
  
  时间: 15%
    - 开发周期
    - 上线时间
    - 迭代速度
  
  质量: 15%
    - 代码质量
    - 性能表现
    - 可扩展性
  
  用户偏好: 10%
    - 用户习惯
    - 团队熟悉度
    - 业务契合度
```

### 2.2 评分标准

```yaml
评分等级:
  5分 - 优秀: 完全满足，有明显优势
  4分 - 良好: 基本满足，有小优势
  3分 - 合格: 满足基本需求
  2分 - 一般: 有明显不足
  1分 - 较差: 无法满足需求

加权总分计算:
  总分 = Σ(维度得分 × 权重)
  满分 = 5分
```

---

## 三、决策流程

```yaml
标准流程:
  1. 方案收集:
     - 列出所有可行方案
     - 确保方案完整性
     - 排除明显不可行方案
  
  2. 维度评估:
     - 对每个方案在各维度打分
     - 记录评分依据
     - 识别优势和劣势
  
  3. 加权计算:
     - 计算各方案加权总分
     - 排序候选方案
     - 识别最优方案
  
  4. 决策输出:
     - 推荐最优方案
     - 说明决策依据
     - 提供备选方案
     - 标注风险提示
```

---

## 四、决策输出模板

```markdown
## 🎯 决策分析报告

### 方案对比

| 维度 | 权重 | 方案A | 方案B | 方案C |
|-----|------|-------|-------|-------|
| 复杂度 | 25% | 4 | 3 | 5 |
| 风险 | 20% | 3 | 4 | 2 |
| 资源 | 15% | 4 | 4 | 3 |
| 时间 | 15% | 3 | 5 | 2 |
| 质量 | 15% | 5 | 3 | 4 |
| 用户偏好 | 10% | 4 | 4 | 3 |
| **加权总分** | - | **3.85** | **3.80** | **3.25** |

### 推荐方案

**方案A** (总分: 3.85)

**优势:**
- 质量得分最高，代码可维护性好
- 资源需求适中，易于实施

**劣势:**
- 时间成本较高
- 存在一定技术风险

**风险提示:**
- 需要额外学习成本
- 第三方依赖版本兼容性

### 备选方案

**方案B** (总分: 3.80)
- 适合时间紧迫的场景
- 风险较低，但质量一般
```

---

## 五、快速检查卡

```
┌─────────────────────────────────────────────┐
│           决策检查速查表                     │
├─────────────────────────────────────────────┤
│                                             │
│  决策前:                                     │
│    □ 是否有多个可行方案？                    │
│    □ 是否需要权衡取舍？                      │
│    □ 用户是否需要建议？                      │
│                                             │
│  评估维度:                                   │
│    □ 复杂度 (25%)                           │
│    □ 风险 (20%)                             │
│    □ 资源 (15%)                             │
│    □ 时间 (15%)                             │
│    □ 质量 (15%)                             │
│    □ 用户偏好 (10%)                         │
│                                             │
│  输出要求:                                   │
│    □ 方案对比表格                           │
│    □ 推荐方案及依据                         │
│    □ 风险提示                               │
│                                             │
└─────────────────────────────────────────────┘
```

---

## 六、违规示例

```yaml
❌ 错误示例:
  用户: "用React还是Vue？"
  回答: "用React吧，比较流行。"

✅ 正确示例:
  用户: "用React还是Vue？"
  回答:
    "让我从多个维度分析：
    
    | 维度 | React | Vue |
    |-----|-------|-----|
    | 复杂度 | 3 | 4 |
    | 生态 | 5 | 4 |
    | 学习曲线 | 3 | 4 |
    | 性能 | 4 | 4 |
    
    **推荐**: Vue
    **依据**: 学习曲线平缓，适合团队现状
    **风险**: 生态略小于React，但足够使用"
```

---

**记住**：任何涉及选择的决策，都要进行多维度评估！
